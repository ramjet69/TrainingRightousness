@using TrainRightMVC.Areas.Admin.Models;
@model WhatHappens
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2>What Happens / Should</h2>

<script type="text/x-kendo-tmpl" id="happens_template">
    <div class="product-view k-widget">
        <dl>
            <dt>Bible Book</dt>
            <dd>#:BibleBook#</dd>
            <dt>Book Abbr.</dt>
            <dd>#:BibleBookAbbr#</dd>
            <dt>Verse Number</dt>
            <dd>#:VerseNumber#</dd>
            <dt>Verse</dt>
            <dd>#:Verse#</dd>
            <dt>What Happens / Should</dt>
            <dd>#:WhatHappensShould#</dd>
            <dt>Discipleship</dt>
            <dd>#:Discipleship#</dd>
        </dl>
        <div class="edit-buttons">
            <a class="k-button k-edit-button" href="\\#"><span class="k-icon k-edit"></span></a>
            <a class="k-button k-delete-button" href="\\#"><span class="k-icon k-delete"></span></a>
        </div>
    </div>
</script>


<div class="demo-section k-content wide">
    <a class="k-button k-button-icontext k-add-button" href="#"><span class="k-icon k-add"></span>Add new record</a>

    @(Html.Kendo().ListView<WhatHappens>()
    .Name("happens_listView")
    .TagName("div")
    .ClientTemplateId("happens_template")
    .DataSource(dataSource => dataSource
        .Model(model => model.Id("SubCatId"))
        .PageSize(4)
        .Create(create => create.Action("Happens_Create", "ListView"))
        .Read(read => read.Action("Happens_Read", "ListView"))
        .Update(update => update.Action("Happens_Update", "ListView"))
        .Destroy(destroy => destroy.Action("Editing_Destroy", "ListView"))
    )
    .Pageable()
    .Editable()
    )

</div>

    

    <script>
        $(function () {
            var listView = $("#happens_listView").data("kendoListView");

            $(".k-add-button").click(function (e) {
                listView.add();
                e.preventDefault();
            });
        });
    </script>

    @section Styles {
        <link href="@Url.Content("~/Areas/Admin/Content/TabListView.css")" rel="stylesheet" type="text/css" />
    }
